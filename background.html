<html>
  <script>
    function notification(title, message) {
      var notification = webkitNotifications.createNotification(
        chrome.extension.getURL("icon_48.png"),
        title, message
      );
      notification.show();

      setTimeout(function() {
        notification.cancel();
      }, 3 * 1000);
    };

    chrome.extension.onRequest.addListener(
    function(request, sender, sendResponse) {
      console.log(request);
      if (request.title && request.message) {
        notification(request.title, request.message);
      }
    });
  </script>
</html>
